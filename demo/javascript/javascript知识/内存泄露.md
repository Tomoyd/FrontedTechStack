## 内存管理

`javascript` 自动回收垃圾机制,内存的分配和管理都自动进行;简单来说:就是按照一定的时间间隔,周期性的找出不再继续使用的变量,然后进行释放内存.

## 内存分配

对于全局变量,变量会在声明时为其分配内存(栈或者堆),局部变量只是在函数执行过程中进行内存(栈或堆)的分配

## 内存回收
内存回收原则:判断变量是否会继续使用,不在继续使用则尽行释放内存

##### 怎么意味着变量不再继续使用

有两种标示无用变量的方式

#### 标记清除

浏览器一般采用的是这种策略

垃圾收集器在运行时,

- 首先给内存中的所有变量都加上标记,

- 然后将环境中的变量以及被环境中的变量引用到的变量的标记去掉;

- 之后内存中还有标记的变量就被认为已经无法访问到的变量,即无用的变量

- 最后,删除无用的变量,释放这些无用的变量的值所占用的内存

#### 引用计数

不太常用的策略

- 记录每个值被引用的次数
- 如果声明了个变量并将引用类型的值赋值给该变量时,这个值的引用次数就加1
- 如果引用该值的变量不再引用该值时就将引用次数减1,(如给该变量赋其他值)

垃圾收集器就会在执行周期内,释放引用次数为零的值所占用的内存

#### 避免泄露的原则:

不用的变量,及时解除引用

1. 减少不必要的全局变量，使用严格模式避免意外创建全局变量。
2. 在你使用完数据后，及时解除引用（闭包中的变量，`dom`引用，定时器清除）。
3. 组织好你的逻辑，避免死循环等造成浏览器卡顿，崩溃的问题。

