## 语法

`ECMAScript`借鉴C及类C语言(`java`和`Perl`)的语法

#### 区分大小写

`ECMAScript`中的一切都区分大小写,如变量,函数名,操作符等

#### 标识符

> 变量,函数,属性的名字,或者函数参数

- [ ] 第一个字符必须为一个字母,下划线(_),或者一个美元符号($)
- [ ] 其他字符可以是字母,下划线,数字,美元符号
- [ ] 字母也可以包含该扩展的`ASCII`或者`Unicode`字母字符(**不推荐**)
- [ ] 最佳实践(驼峰市命名)

#### 注释

单行注释:双斜线开头(//)

多行注释:/*开头,且\*/结尾

#### 严格模式

> `ECMAScript` 5引入了严格模式的概念,对于一些不安全的操作也会抛出异常
>
> 在脚本顶部添加:"use strict" 整个脚本启用严格模式
>
> 在函数中添加:"use strict" 函数启用严格模式

####  语句

> 分号结尾;
>
> 省略分号,由解析器确定语句结尾
>
> 推荐(不省略分号,避免一些错误和增加代码性能)
>
> 代码块 {}

## 关键字和保留字

> 关键字和保留字是语言保留的,不能用作标识符
>
> - [ ] 关键字比如用于表示控制语句的开始和结束,声明变量,或者其他特定用处
> - [ ] 保留字是语言定义的,目前还没特定用途,将来可能会被用作关键字

## 变量

> `ECMAScript`的变量是松散型的;变量仅仅是用于保存值的占位符
>
> 松散型:可以用来保存任何类型的数据,改变值的时候可以同事修改值与类型

- [ ] 变量的定义:
  - var a;var a=b;(或者用let)
  - var a,b; var a,b=1;var a=1,b=1;
  - 严格模式下不能定义`eval`或者`arguments`的变量
- [ ] 变量只在其作用域内有效,退出该作用域时就会被销毁
- [ ] 变量改变值时尽量不要修改其类型(不推荐)

## 数据类型

> 简单数据类型(5种):Undefined,Null,Boolean,Number,String
>
> 复杂数据类型:Object (function)

#### `typeof`操作符

检测变量的数据类型

可以返回:

- [ ] "undefined" :如:未定义,未初始化,没有声明的变量
- [ ] "boolean":如:布尔值
- [ ] "string":字符串
- [ ] "number":数值
- [ ] "object":对象或者null
- [ ] "function":函数,(`Chrome7`,`Safari5`及以前版本的null)

#### Undefined类型

> - [ ] 只有一个值的数据类型
>
> `var`声明但未初始化
>
> 或者没有声明的变量执行`typeof`时
>
> 推荐声明的变量尽量初始化

#### Null类型

> - [ ] 只有一个值的数据类型
>
> 从逻辑上来说 null表示空对象指针
>
> 对应一个准备将来保存对象的变量,初始化推荐null值
>
> ***由于undefined派生与null,undefined==null会返回true***

#### Boolean类型

> true和false
>
> 所有类型的值都有与这两个字面值等价的值
>
> - 可以调用Boolean()进行转型
>   - [ ] Boolean: true->true false->false
>   - [ ] String:任何非空字符串->true  空字符串->false
>   - [ ] Number:任何非零数字值->true 0和`NaN`->false
>   - [ ] Object:任何对象->true  null->false
>   - [ ] Undefined:不适用true  undefined->false
>
> 流程控制语句自动执行相应的Boolean转换

#### Number类型

> 使用IEEE754格式来显示整数和浮点数
>
> - [ ] 十进制 
> - [ ] 八进制第一位是0(严格模式下无效)
> - [ ] 十六进制 `0x` 开头
>
> 在进行算术运算时都转换为十进制数值

- 浮点数

  * 保存浮点数的内存空间是保存整数的两倍
  * `ECMAScript`会不失时机地将浮点数值转换为整数,如小数点后没有跟任何数字或者后面都是零,那么就会转换为整数
  * 对于极小或者极大值,e或E表示法后面的数字代表10的幂的指数
  * 浮点数最高精度是17位小数(使用相同数值格式的通病)
  * 0.1+0.2!=0.3

- 数值范围

  - 最小值: Number.MIN_VALUE
  - 最大值:Number.MAX_VALUE
  - 超过该范围的会被自动转换为Infinity和-Infinity
  - 负无穷值:Number.NEGATIVE_INFINITY,正无穷值:Number.POSITIVE_INFINITY

- `NaN`

  即:非数值(Not a Number),是一个特殊数值;用于表示一个本来要返回数值的操作数结果并没有返回数值的情况,(这样就不会抛出错误),例如 0除以0  (正数除以0返回Infinity,负数除以0返回-Infinity)

  - 任何涉及`NaN`操作都会返回`NaN`

  - `NaN`不与任何值相等包括自身
  - `isNaN()`函数用来确定是否"不是数值",接受一个参数,并尝试转换成数值
    - 数字字符串,空字符串,布尔值,null都会被转换为数值
    - 对于参数为对象的先调用对象的`valueOf`方法,看是否能转换为数值,如果不能则调用`toString`,再测试其返回值

- 数值转换

  > `Number()`,`parseInt()`,和`parseFloat()`

  - `Number()`

    - Boolean:true->1 false->0
    - 数字值:简单的传入与返回

    - null:返回0
    - undefined:返回NaN
    - 字符串
      - 只包含数字,将其转换为十进制数值,前导0被忽略
      - 如果包含有效的浮点数,转换为对应的浮点数
      - 空字符串:0
      - 包含有效的十六进制转换为大小相同的十进制
      - 上述以外:`NaN`
    - 对象:首先调用`valueOf`方法,依照前面的规则返回值,如果转换是`NaN`,再调用`toString`再依照前面的规则转换

  - `parseInt`

    - 忽略字符串前面的空格
    - 对空字符串返回`NaN`
    - 从第一个非空数字开始,遇到后续非数字字符及停止解析
    - 能够识别各种整数格式,八进制,十六进制,十进制,二进制
    - 对应八进制(`ES3`  八进制,`ES5`忽略前导0十进制)
    - 提供第二个参数确定解析的基数,此时字符串可以不带`0x` `0`

  - `parseFloat`

    - 只解析十进制
    - 解析规则与`parseInt`类似

#### String类型

> 表示由0个或多个16位Unicode字符组成的字符序列,即字符串
>
> - [ ] 可以由单引号或者双引号表示

- 字符字面量

  转义序列,非打印字符或者具有其他用途的字符

  - [ ] "\n":换行
  - [ ] "\t":制表
  - [ ] "\b":空格
  - [ ] "\r":回车
  - [ ] "\f":进纸
  - [ ] "\\\\":斜杠
  - [ ] "\\\'\":单引号
  - [ ] \'\\"':双引号
  - [ ] "\\`xnn`":以十六进制代码`nn`表示的一个字符,\\`x41` 表示A
  - [ ] "\\`unnnn`":以十六进制表示Unicode字符(其中n为0~F),\\`u03a3`希腊字符"Σ"

  字符串的`length`属性可以返回包含16为字符的数目,如果是双字节,和转义字符的length可能返回的不是字符串的长度

- 字符串特点

  - 不可变的,要改变某个变量保存的字符串必须先销毁原来的字符串,再用新值填充

- 转换为字符串

  `toString`:返回相应值的字符串表现,可以接受一个参数,表示进制的基数,默认(十进制相同)

  1. undefined和null没有toString方法

  `String()`函数

  - [ ] 如果值有`toString`,调用该方法
  - [ ] 如果是null,则返回"null"
  - [ ] 如果是undefined,返回undefined

#### Object类型

> Object类型是所有其实例的基础

Object的每个实例都具有的属性和方法:

- [ ] `constructor`:保存用于创建当前对象的函数
- [ ] `hasOwnProperty(propertyName)`:用于检查给的属性中是否在当前对象中(不是原型中)存在
- [ ] `isPrototypeOf(object)`:检查是否是传入对象的原型
- [ ] `propertyIsEnumerable(propertyName)`:检查给定属性是否可以用`for-in`
- [ ] `toLocaleString()`:返回对象的字符串表示,该字符串与执行环境的对应地区相对应
- [ ] `toString()`:返回对象的字符串表示
- [ ] `valueOf()`:返回对象的字符串,数值或布尔值表示,通常与`toString()`返回相同

## 操作符

> 操作符适用于很多值,字符串,数组,布尔值,对象
>
> **应用与对象时通常会调用`valueOf`和(或)`toString`方法,取得可以操作的值**

1. 一元运算符: 

   - 递增(++),递减(--)  (会自动转换为数值类型)

     - 递增递减前置语句被求值之前,变量的值改变   

       ```javascript
       var age=20;
       --age===19 //(true)
       ```

     - 递增递减后置,语句求值之后,变量的值改变

       ```javascript
       var age=20;
       age--===19 //(false)
       age==19 //(true)
       ```

   - 一元加减(正负操作,并进行相应的数值转换)

2. 位操作符号

   > 按内存中表示数值的未来操作数值

   - 按位非(~)
   - 按位与(&)
   - 按位或(|)
   - 按位异或(^)
   - 左移(<<)
   - 有符号右移(>>)
   - 无符号右移(>>>)

3. 布尔操作符:逻辑与(&&)或(||)非(!)

4. 乘性操作符:乘(*)除法(/)取模(%)

5. 加性操作符:加(+)减(-)

6. 关系操作符号:>,<,>=,<=

7. 相等操作符:===,==

8. 条件操作符号:布尔表达式?true_value:false_value

9. 赋值操作符号:=,*= /=等

10. 逗号操作符:var a,b,c