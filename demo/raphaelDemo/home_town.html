<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>raphaelDemo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div id="mapContainer" style="width:100%;height:100vh;box-sizing: border-box;margin: 0;padding: 0"></div>
<noscript>不支持JavaScript</noscript>
<link rel="stylesheet" type="text/css" href="common.css">
<script src="./raphael.js"></script>
<script src="areapaths.js"></script>
<script type="text/javascript" src="draw_method.js"></script>
<script type="text/javascript">
    window.onload=()=>{
        let mapContainer=document.getElementById("mapContainer")
        let r=Raphael("mapContainer",mapContainer.clientWidth,mapContainer.clientHeight)
        let {name,path}=drawPath(r)
        let text=null
        path.color=Raphael.getColor(0.9);
        let centerX=path.getBBox().x+(path.getBBox().width/2)
        let centerY=path.getBBox().y+(path.getBBox().height/2)
        let translateX=(mapContainer.clientWidth/2-centerX)
        let translateY=(mapContainer.clientHeight/2-centerY)
        text=r.text(centerX,centerY,name).attr({fill:"#000",fontSize:"30px",cursor:"pointer"})
        text.node.onclick=(e)=>{
            window.location.href="https://map.baidu.com/search?querytype=s&da_src=shareurl&wd=河南"
        }
        path.translate(translateX,translateY)
        text.translate(translateX,translateY)
        path[0].onmouseover=()=>{
            path.animate({fill:path.color,stroke:'#FFFF00'},500)
            text.toFront()
            r.safari()
        }
        path[0].onmouseout=()=>{
            path.animate({fill:"#97d6f5",stroke:'#eee'},500)
            text.toFront()
            r.safari()
        }
    }
</script>
</body>
</html>